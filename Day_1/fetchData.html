<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fectch Data</title>
    <style>
        table,
        th,
        td {
            border: 1px solid black;
            border-collapse: collapse;
            padding: 6px;
            text-align: center;
        }
    </style>
</head>

<body>
    <table>
        <thead>
            <th>Sr No.</th>
            <th>First Name</th>
            <th>Last Name</th>
            <th>Email</th>
            <th>Gender</th>
            <th>Intrest</th>
            <th>Salary</th>
            <th>Bio</th>
            <th>age</th>
        </thead>
        <tbody id="tbody">
            <tr>

            </tr>
        </tbody>
    </table>
    <!--Firebase Libraries-->
    <script src="https://www.gstatic.com/firebasejs/7.20.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.1.0/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.20.0/firebase-database.js"></script> 

    
    <script type="module">
        // Configuration 
        // Import the functions you need from the SDKs you need
        // For Firebase JS SDK v7.20.0 and later, measurementId is optional
        const firebaseConfig = {
            apiKey: "AIzaSyC8xrvROnRyHm3BPbJjYJF1r82UR88AAdY",
            authDomain: "fir-15919.firebaseapp.com",
            databaseURL: "https://fir-15919-default-rtdb.firebaseio.com",
            projectId: "fir-15919",
            storageBucket: "fir-15919.appspot.com",
            messagingSenderId: "38511786034",
            appId: "1:38511786034:web:f9bb7f023b82ed4e42e42b",
            measurementId: "G-E16LF86VFN"
        };
        // Intialise Firebase
        firebase.initializeApp(firebaseConfig); 
        var firebaseRef = firebase.database().ref("users"); 
        firebaseRef.on("value",(snapshot)=>{
            //var data =snapshot.val(); 
            //for(let i in data){
            //    console.log(data[i]);
            //console.log(element.val());
            //    var fname = element.val().fname;
            //    var lname = element.val().lname;
            //    var age   = element.val().age;                         
            //    var bio = element.val().bio;                      
            //    var email = element.val().email;                     
            //    var gender = element.val().gender;
            //   var intrest = element.val().interest;
            //    var range = element.val().range;
            //    AddDatainTable(fname,lname,age,bio,email,gender,intrest,range); 
            //}
            snapshot.forEach(function(element){
                console.log(element.val());
                var fname = element.val().fname;
                var lname = element.val().lname;
                var age   = element.val().age;                         
                var bio = element.val().bio;                      
                var email = element.val().email;                     
                var gender = element.val().gender;
                var intrest = element.val().interest;
                var range = element.val().range;
                AddDatainTable(fname,lname,age,bio,email,gender,intrest,range);  
            })
        })
        window.onload = selectAllData;
        
        // Get all data
    
    
                
        function AddDatainTable(fname,lname,age,bio,email,gender,intrest,range){
            var srNo = 0;
            var tbody = document.getElementById('tbody');
            var trow  = document.createElement('tr'); 
            var tdata1 = document.createElement('td');
            var tdata2 = document.createElement('td'); 
            var tdata3 = document.createElement('td');
            var tdata4 = document.createElement('td');
            var tdata5 = document.createElement('td');
            var tdata6 = document.createElement('td');
            var tdata7 = document.createElement('td');
            var tdata8 = document.createElement('td');
            var tdata9 = document.createElement('td');
            //var tdata10 = document.createElement('td');
            //var tdata11 = document.createElement('td'); 
            
            tdata1.innerHTML = ++srNo; 
            tdata2.innerHTML = fname;
            tdata3.innerHTML = lname;
            tdata4.innerHTML = email;
            tdata5.innerHTML = gender;
            tdata6.innerHTML = intrest;
            tdata7.innerHTML = range;
            tdata8.innerHTML = bio;
            tdata9.innerHTML = age;
            
            trow.appendChild(tdata1); 
            trow.appendChild(tdata2);
            trow.appendChild(tdata3); 
            trow.appendChild(tdata4);
            trow.appendChild(tdata5); 
            trow.appendChild(tdata6); 
            trow.appendChild(tdata7); 
            trow.appendChild(tdata8); 
            trow.appendChild(tdata9); 
            
            tbody.appendChild(trow); 
        }
    </script>
</body>
</html>