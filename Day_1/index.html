<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"
        integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js"
        integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF"
        crossorigin="anonymous"></script>
    <!-- <link rel="stylesheet" href="style.css"> -->
</head>
<style>
    label {
        color: green;
        font-size: 15px;
    }

    .bg {
        background-color: rgb(155, 155, 155);
    }

    label {
        font-family: 'Roboto';
        font-size: 22px;
        font-size: 20px;
        font-weight: bold;
    }

    .form-header {
        background-color: #EFF0F1;
        border-top-left-radius: 10px;
        border-top-right-radius: 10px;
    }

    .form-header h1 {
        font-size: 30px;
        text-align: center;
        color: #666;
        padding: 20px 0;
        border-bottom: 1px solid #cccccc;
    }

    .form-footer {
        height: 70px;
        background-color: #EFF0F1;
        border-bottom-left-radius: 10px;
        border-bottom-right-radius: 10px;
    }
</style>

<body>

    <div class="container mt-5">
        <div class="mt-3 text-white rounded">
            <div class="form-header">
                <h1>Create Account</h1>
            </div>
            <hr>
            <div class="container bgc">
                <form method="post"  id="crtAccount">
                    <div class="row mt-3">
                        <div class="col-6">
                            <label class="form-label">First Name</label>
                            <input type="text" class="form-control" id="fname" aria-describedby="emailHelp"  placeholder="enter your first name">
                          
                        </div>
                        <div class="col-6">
                            <label class="form-label">Last Name</label>
                            <input type="pass" class="form-control" id="lname" aria-describedby="emailHelp"  placeholder="enter your last name">
                            
                        </div>
                    </div>

                    <div class="row mt-3">
                        <div class="col-12">
                            <label class="form-label">Email</label>
                            <input type="email" class="form-control" id="email" aria-describedby="emailHelp"  placeholder="enter your email" >
                            
                        </div>
                    </div>

                    <div class="row mt-3">
                        <div class="col-6">
                            <label for="exampleInputEmail1" class="form-label">Password</label>
                            <input type="password" class="form-control" id="password"   placeholder="enter your password" pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}"  title="Must contain at least one number and one uppercase and lowercase letter, and at least 8 or more characters" required>
                        </div>
                        <div class="col-6">
                            <label for="exampleInputEmail1" class="form-label">Confirm Password</label>
                            <input type="password" class="form-control" id="cpassword" 
                                 placeholder="enter password again" pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}" title="Must contain at least one number and one uppercase and lowercase letter, and at least 8 or more characters" required>
                            
                        </div>
                    </div>

                    <div class="row mt-3">
                        <div class="col-6 ">
                            <label for="exampleInputEmail1" class="form-label">Gender:- </label>
                            <input class="form-check-input" type="radio" name="gender" id="gender" value="male"
                                >
                            <span style="color: black;"> Male</span>

                            <input class="form-check-input" type="radio" name="gender" id="gender" value="female"
                                >
                            <span style="color: black;"> Female</span>
                        </div>
                        <div class="col-6">
                            <label for="exampleInputEmail1" class="form-label">Hobbies:- </label>
                            <input class="form-check-input" type="checkbox" value="Read_Book" id="Read_book" >
                            <span style="color: black;"> Reading Book</span>

                            <input class="form-check-input" type="checkbox" value="Sports" id="Sports" >
                            <span style="color: black;"> Sports</span>
                        </div>
                    </div>

                    <div class="row mt-3">
                        <div class="col-6">
                            <div class="width">
                                <label for="customRange1" class="form-label">Dropdown</label>
                                <Select id="interest" style="width: 100%; height: 25px;  border-radius: 5px; ">
                                    <option value="development">Development</option>
                                    <option value="design">Design</option>
                                    <option value="business">Business</option>
                                </Select>
                            </div>
                        </div>
                        <div class="col-6">
                            <label for="customRange1" class="form-label">Income</label>
                            <input type="range" min="1" max="20" step="1" class="form-range"
                                oninput="this.nextElementSibling.value = this.value" id="range" >
                            <output style="color: black;">10</output>
                        </div>
                    </div>

                    <div class="row mt-3">
                        <div class="col-6">
                            <label class="form-label" for="customFile">Upload Resume</label>
                            <input type="file" class="form-control" id="customFile" >
                        </div>
                        <div class="col-6">
                            <label for="exampleInputEmail1" class="form-label">Age</label>
                            <input type="num" class="form-control" id="age" aria-describedby="emailHelp" >
                        </div>
                    </div>

                    <div class="row mt-3">
                        <div class="col-12">
                            <label for="exampleFormControlTextarea1" class="form-label">Bio</label>
                            <textarea class="form-control" id="bio" rows="3"
                            ></textarea>
                        </div>

                    </div>

                    <div class="form-footer">
                        <div class="row">
                            <div class="col-10">
                            </div>
                            <div class="col-2 mt-3 text-white rounded">
                                <button type="submit" name="submit" onclick="checkPass()"  sendMsg() class="btn btn-primary">Submit</button>
                            </div>
                        </div>
                    </div>
                </form>
                <script>
                    function checkPass(){
                        console.log('in checkPass')
                        let pass = document.getElementById('password').value; 
                        let lowerCaseLetters = /[a-z]/g;
                        if( pass == ''  ){ 
                            alert("password not empty "); 
                        }
                        else if(pass.length < 8){
                            alert('password is must contain 8 character');  
                        } else if(pass.search(/[a-z]/) < 0 ){
                            alert("Password must contain atleast one lowecase latter"); 
                        }else if(pass.search(/[A-Z]/) < 0 ){
                            alert("Password must contain atleast one uppeercase latter"); 
                        }else if(pass.search(/[0-9]/) < 0 ){
                            alert("Password must contain atleast one didgits "); 
                        }else{ 
                            alert("password is good")
                        }
                    }
                </script>
                <script type="module">

                    document.getElementById('crtAccount')
                    .addEventListener('submit', formSubmit); 

                    //document.getElementById('crtAccount').addEventListener('submit',checkPss()); 
                    
                    


                    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.1.0/firebase-app.js";
                    import { getAnalytics } from "https://www.gstatic.com/firebasejs/10.1.0/firebase-analytics.js";
                    const firebaseConfig = {
                        apiKey: "AIzaSyC8xrvROnRyHm3BPbJjYJF1r82UR88AAdY",
                        authDomain: "fir-15919.firebaseapp.com",
                        projectId: "fir-15919",
                        storageBucket: "fir-15919.appspot.com",
                        messagingSenderId: "38511786034",
                        appId: "1:38511786034:web:f9bb7f023b82ed4e42e42b",
                        measurementId: "G-E16LF86VFN"
                    };

                    // Initialize Firebase
                    const app = initializeApp(firebaseConfig);
                    const analytics = getAnalytics(app);
                    import { getDatabase, ref, set } from "https://www.gstatic.com/firebasejs/10.1.0/firebase-database.js";  
                    
                    
                    function formSubmit(e){
                        e.preventDefault(); 
                        let fname = document.getElementById('fname').value; 
                        let lname = document.getElementById('lname').value;
                        let email = document.getElementById('email').value; 
                        let pass = document.getElementById('password').value; 
                        let cpass = document.getElementById('cpassword').value; 
                        let bio = document.getElementById('bio').value; 
                        let age = document.getElementById('age').value;
                        let interest = document.querySelector('#interest').value;
                        let range = document.getElementById('range').value;
                        let gender;

                        var radios = document.getElementsByName('gender');

                        for (var i = 0, length = radios.length; i < length; i++) {
                            if (radios[i].checked) {
                                gender = radios[i].value;  
                                break;
                            }
                        }
                        console.log('gender;- ',gender); 
                        sendMessage(fname, lname, email, pass, cpass, bio,age,interest,range,gender);
                    }
                    function sendMessage(fname, lname, email, pass, cpass, bio,age,interest,range,gender)
                    {
                        //checkPass(); 
                        const database = getDatabase(); 

                        set(ref(database, 'users/' + Math.floor(Math.random() * 10000000)), {
                            fname: fname,
                            lname: lname,
                            email: email,
                            pass: pass,
                            cpass: cpass,
                            bio: bio, 
                            age:age,
                            interest:interest, 
                            range:range, 
                            gender:gender 
                           // checkbox_1 : checkbox_1,
                           // checkbox_2:checkbox_2
                          }).then((result) => {
                            alert("Data sent succesfully");
                           setTimeout(function () {
                            console.log('hey'); 
                           }, 7000);
                           document.getElementById('crtAccount').reset();
                          }).catch((error) => {
                            alert(error)
                          })
                    }
                </script>
            </div>
        </div>
    </div>
</body>



</html>